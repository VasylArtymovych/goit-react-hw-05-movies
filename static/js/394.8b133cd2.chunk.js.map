{"version":3,"file":"static/js/394.8b133cd2.chunk.js","mappings":"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","sources":["components/ServerAPI/ServerApi.jsx","components/MovieCard/MovieCard.jsx","pages/MovieDetailsPage.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nconst axios = require('axios').default;\n\nconst baseURL = 'https://api.themoviedb.org/3/';\nconst api_key = '9c009c00402fb866baf05bd346a2d01d';\n\nexport const fetchTrending = async () => {\n  const response = await axios.get(\n    baseURL +\n      'trending/all/day?' +\n      new URLSearchParams({\n        api_key,\n      })\n  );\n\n  const data = response.data;\n  return data.results;\n};\n\nexport const searchMovie = async query => {\n  const response = await axios.get(\n    baseURL +\n      `search/movie?` +\n      new URLSearchParams({\n        api_key,\n        query,\n        language: 'en-US',\n        page: 1,\n        include_adult: false,\n      })\n  );\n\n  const data = response.data;\n  return data.results;\n};\n\nexport const fetchMovieById = async id => {\n  const response = await axios.get(\n    baseURL +\n      `movie/${id}?` +\n      new URLSearchParams({\n        api_key,\n        language: 'en-US',\n      })\n  );\n\n  const data = response.data;\n  return data;\n};\n\nexport const fetchMovieCast = async id => {\n  const response = await axios.get(\n    baseURL +\n      `movie/${id}/credits?` +\n      new URLSearchParams({\n        api_key,\n        language: 'en-US',\n      })\n  );\n\n  const data = response.data;\n  return data;\n};\n\nexport const fetchMovieReviews = async id => {\n  const response = await axios.get(\n    baseURL +\n      `movie/${id}/reviews?` +\n      new URLSearchParams({\n        api_key,\n        language: 'en-US',\n        page: 1,\n      })\n  );\n\n  const data = response.data;\n  return data;\n};\n\nsearchMovie.propTypes = {\n  query: PropTypes.string.isRequired,\n};\n\nfetchMovieById.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n\nfetchMovieCast.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n\nfetchMovieReviews.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport defaultImg from '../../images/default.jpeg';\nconst IMG_PATH = 'https://image.tmdb.org/t/p/w500';\n\nexport default function MovieCard({ movie }) {\n  const { backdrop_path, poster_path, title, overview, genres, vote_average } =\n    movie;\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const imgPath =\n    backdrop_path || poster_path\n      ? IMG_PATH + (backdrop_path ?? poster_path)\n      : defaultImg;\n  return (\n    <>\n      <GoBackBtn\n        type=\"button\"\n        onClick={() => {\n          // navigate(-1);\n          navigate(location?.state?.from?.pathname ?? '/movies');\n        }}\n      >\n        Go back\n      </GoBackBtn>\n\n      <Container>\n        <ImgWraper>\n          <img src={imgPath} alt={title} />\n        </ImgWraper>\n        <TextWraper>\n          <MovieTitle>{title}</MovieTitle>\n          <StyledText>\n            <StyledSpan>User score:</StyledSpan> {Math.round(vote_average * 10)}\n            %\n          </StyledText>\n          <StyledText>\n            <StyledSpan>Overview:</StyledSpan> {overview}\n          </StyledText>\n          <StyledSpan>genres:</StyledSpan>\n          <List>\n            {genres.map(({ id, name }) => (\n              <li key={id}>{name}</li>\n            ))}\n          </List>\n        </TextWraper>\n      </Container>\n    </>\n  );\n}\n\nMovieCard.propTypes = {\n  movie: PropTypes.shape({}).isRequired,\n};\n\n// styled-components:\nconst Container = styled('div')`\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  @media (min-width: 768px) {\n    padding: 20px;\n    flex-direction: row;\n  }\n`;\n\nconst ImgWraper = styled('div')`\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n  width: 40%;\n  margin-right: 20px;\n  & img {\n    display: block;\n    width: 100%;\n    object-fit: fill;\n  }\n`;\n\nconst TextWraper = styled('div')`\n  width: 100%;\n  @media (min-width: 768px) {\n    width: 50%;\n  }\n`;\n\nconst MovieTitle = styled('h2')`\n  margin-bottom: 7px;\n  color: ${p => p.theme.colors.white};\n  font-size: 22px;\n  font-weight: ${p => p.theme.fontWeights.bold};\n  text-align: center;\n  text-shadow: -1px -1px 0 rgb(16, 15, 60), 1px -1px 0 rgb(16, 15, 60),\n    -1px 1px 0 rgb(16, 15, 60), 1px 1px 0 rgb(16, 15, 60);\n`;\n\nconst StyledText = styled('p')`\n  margin-bottom: 7px;\n  @media (min-width: 1200px) {\n    font-size: 18px;\n  }\n`;\n\nconst StyledSpan = styled('span')`\n  color: rgb(16, 15, 60);\n  font-weight: ${p => p.theme.fontWeights.bold};\n`;\n\nconst List = styled('ul')`\n  list-style: none;\n  display: flex;\n  margin-bottom: 10px;\n  li {\n    margin-right: 5px;\n    font-size: 14px;\n  }\n`;\n\nconst GoBackBtn = styled('button')`\n  width: 65px;\n  margin: 0 0 0 10px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: white;\n  background: linear-gradient(to top right, rgb(16, 15, 60), rgb(85, 204, 225));\n  &:hover {\n    color: ${p => p.theme.colors.accent};\n    background: linear-gradient(\n      to top left,\n      rgb(16, 15, 60),\n      rgb(85, 204, 225)\n    );\n  }\n  @media (min-width: 768px) {\n    margin: 0 0 0 20px;\n  }\n`;\n","import { NavLink, Outlet, useParams, useLocation } from 'react-router-dom';\nimport { useState, useEffect, Suspense } from 'react';\nimport styled from 'styled-components';\nimport { toast } from 'react-toastify';\nimport MovieCard from 'components/MovieCard/MovieCard';\nimport { fetchMovieById } from 'components/ServerAPI/ServerApi';\nimport Loader from 'components/Loader/Loader';\nimport Box from 'components/Box';\n\nexport default function MovieDetailsPage() {\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const movieData = await fetchMovieById(movieId);\n        setMovie(movieData);\n      } catch (error) {\n        toast.error(error.message);\n      }\n    })();\n  }, [movieId]);\n\n  return (\n    <>\n      {movie && <MovieCard movie={movie} />}\n\n      <Title>Additional information</Title>\n      <Box pb={20}>\n        <StyledLink to=\"cast\" state={{ from: location }}>\n          Cast\n        </StyledLink>\n        <StyledLink to=\"reviews\" state={{ from: location }}>\n          Reviews\n        </StyledLink>\n      </Box>\n\n      <Suspense fallback={<Loader />}>\n        <Outlet context={movieId} />\n      </Suspense>\n    </>\n  );\n}\n\nconst Title = styled('h3')`\n  padding: 5px 10px;\n  margin-top: 0;\n  color: ${p => p.theme.colors.white};\n  font-size: ${p => p.theme.fontSizes.m}px;\n  font-weight: ${p => p.theme.fontWeights.bold};\n  background: linear-gradient(to top left, rgb(16, 15, 60), rgb(85, 204, 225));\n  border-bottom: 1px solid ${p => p.theme.colors.accent};\n`;\n\nconst StyledLink = styled(NavLink)`\n  display: block;\n  margin: 5px 20px;\n  color: ${p => p.color || p.theme.colors.white};\n\n  &.active {\n    color: ${p => p.theme.colors.accent};\n  }\n`;\n"],"names":["axios","require","baseURL","api_key","fetchTrending","get","URLSearchParams","response","data","results","searchMovie","query","language","page","include_adult","fetchMovieById","id","fetchMovieCast","fetchMovieReviews","propTypes","PropTypes","MovieCard","movie","backdrop_path","poster_path","title","overview","genres","vote_average","navigate","useNavigate","location","useLocation","imgPath","defaultImg","GoBackBtn","type","onClick","state","from","pathname","Container","ImgWraper","src","alt","TextWraper","MovieTitle","StyledText","StyledSpan","Math","round","List","map","name","styled","p","theme","colors","white","fontWeights","bold","accent","MovieDetailsPage","useState","setMovie","movieId","useParams","useEffect","movieData","toast","message","Title","Box","pb","StyledLink","to","Suspense","fallback","Loader","context","fontSizes","m","NavLink","color"],"sourceRoot":""}